<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Hackety hack hack]]></title>
  <link href="http://johl.github.com/atom.xml" rel="self"/>
  <link href="http://johl.github.com/"/>
  <updated>2011-10-22T16:54:23+02:00</updated>
  <id>http://johl.github.com/</id>
  <author>
    <name><![CDATA[Jens Ohlig]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[git blog — mein Zusatzkommando für Octopress]]></title>
    <link href="http://johl.github.com/blog/2011/10/22/git-blog--mein-zusatzkommando-fr-octopress/"/>
    <updated>2011-10-22T15:03:00+02:00</updated>
    <id>http://johl.github.com/blog/2011/10/22/git-blog&#8211;mein-zusatzkommando-fr-octopress</id>
    <content type="html"><![CDATA[<p>Für dieses Blog benutze ich <a href="http://octopress.org/">Octopress</a>, das &#8220;blogging framework for hackers&#8221;. Theoretisch
gibt es da auch ein <code>rake</code>-Kommando, um neue Posts abzusetzen (nämlich <code>rake new_post</code>), ich hatte allerdings schon ein halbfertiges Skript da, welches ich als <code>/usr/local/bin/git-blog</code>
gespeichert habe.</p>

<p>Mit diesem Skript wird ein neues Posting angelegt und mein Lieblingseditor geöffnet. Sobald es gespeichert ist, verfügt meine lokale Git-Installation über einen neuen Befehl, <code>git blog</code>.
Nifty, was?</p>

<figure class='code'><figcaption><span>/usr/local/bin/git-blog  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'><span class="k">if </span><span class="nb">test</span> <span class="nv">$# </span>-eq 0; <span class="k">then</span>
</span><span class='line'><span class="k">  </span><span class="nb">echo</span> <span class="s2">&quot;blog title required&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">exit </span>1
</span><span class='line'><span class="k">else</span>
</span><span class='line'><span class="k">    </span><span class="nb">cd</span> <span class="k">$(</span>git config blog.path<span class="k">)</span>
</span><span class='line'>    <span class="nv">title</span><span class="o">=</span><span class="nv">$@</span>
</span><span class='line'>    <span class="nv">date</span><span class="o">=</span><span class="sb">`</span>date +<span class="s2">&quot;%Y-%m-%d %H:%M&quot;</span><span class="sb">`</span>
</span><span class='line'>    <span class="nv">filename</span><span class="o">=</span><span class="s2">&quot;_posts/$(date +&quot;</span>%Y-%m-%d<span class="s2">&quot;)-$(echo $@|sed -e &#39;s/[^ -~]//g&#39;|sed -e &#39;s/ /-/g&#39;|sed -e &#39;y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/&#39;).markdown&quot;</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">[</span> ! -f <span class="nv">$filename</span> <span class="o">]</span>;
</span><span class='line'>        <span class="k">then</span>
</span><span class='line'><span class="k">            </span><span class="nb">echo</span> <span class="s2">&quot;---&quot;</span> &gt;&gt; <span class="nv">$filename</span>
</span><span class='line'>            <span class="nb">echo</span> <span class="s2">&quot;layout: post&quot;</span> &gt;&gt; <span class="nv">$filename</span>
</span><span class='line'>            <span class="nb">echo</span> <span class="s2">&quot;title:&quot;</span> <span class="nv">$title</span> &gt;&gt; <span class="nv">$filename</span>
</span><span class='line'>            <span class="nb">echo</span> <span class="s2">&quot;date: &quot;</span> <span class="nv">$date</span> &gt;&gt; <span class="nv">$filename</span>
</span><span class='line'>            <span class="nb">echo</span> <span class="s2">&quot;comments: true&quot;</span> &gt;&gt; <span class="nv">$filename</span>
</span><span class='line'>            <span class="nb">echo</span> <span class="s2">&quot;categories:&quot;</span> &gt;&gt; <span class="nv">$filename</span>
</span><span class='line'>            <span class="nb">echo</span> <span class="s2">&quot;---&quot;</span> &gt;&gt; <span class="nv">$filename</span>;
</span><span class='line'>        <span class="k">fi</span>
</span><span class='line'>    <span class="k">$(</span>git config core.editor<span class="k">)</span> <span class="nv">$filename</span>
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>Vorher sollte noch <code>git</code> konfiguriert werden:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git config --global blog.path /pfad/zu/meinem/octopress
</span><span class='line'>$ git config --global core.editor /pfad/zu/meinem/lieblingseditor</span></code></pre></td></tr></table></div></figure>


<p>Ach ja. Nebenbei bemerkt: Hallo Welt!</p>
]]></content>
  </entry>
  
</feed>
